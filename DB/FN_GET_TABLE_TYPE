CREATE OR REPLACE FUNCTION FN_GET_TABLE_TYPE
(
	pTALK_ID IN TABLE_NM.TALK_ID%TYPE
	, pTALK_SEQ IN TABLE_NM.TALK_SEQ%TYPE
	, pTALK_DTL_SEQ IN TABLE_NM.TALK_SEQ%TYPE
)
RETURN VARCHAR2
IS
	TABLE_NM.TALK_NM VARCHAR2(4000);
BEGIN
	SELECT
		CASE WHEN pTALK_ID = 'A' THEN
				(
					SELECT PROD_NM
					FROM DUAL
					WHERE 1 = 1
						AND A1.TALK_SEQ = pTALK_SEQ    
						AND A1.TALK_DTL_SEQ = pTALK_DTL_SEQ
				)
			WHEN pTALK_ID = 'B' THEN
				(
					SELECT VD_TITLE
					FROM DUAL
					WHERE 1 = 1
						AND A1.TALK_SEQ = pTALK_SEQ
						AND A1.TALK_DTL_SEQ = pTALK_DTL_SEQ
						AND A1.KEY_INFO = TO_CHAR(B1.VD_SEQ)
				)
			ELSE NULL
		END
	INTO TALK_NM
	FROM DUAL
	;

	RETURN TALK_NM
	;

	EXCEPTION
		WHEN NO_DATA_FOUND THEN
			RETURN NULL;
		WHEN OTHERS THEN
			RETURN NULL;
END;
